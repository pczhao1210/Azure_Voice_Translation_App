# è¯­éŸ³åˆ†æ®µç­–ç•¥åŠŸèƒ½è¯´æ˜Ž

## ðŸ“‹ ç›®å½•
- [æ¦‚è¿°](#æ¦‚è¿°)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
  - [è¯­ä¹‰åˆ†æ®µ](#1-è¯­ä¹‰åˆ†æ®µsemantic-segmentation)
  - [é™éŸ³åˆ†æ®µ](#2-é™éŸ³åˆ†æ®µsilence-segmentation)
- [é…ç½®è¯´æ˜Ž](#é…ç½®è¯´æ˜Ž)
- [æŠ€æœ¯å®žçŽ°](#æŠ€æœ¯å®žçŽ°)
- [ä½¿ç”¨å»ºè®®](#ä½¿ç”¨å»ºè®®)
- [æ•…éšœæŽ’é™¤](#æ•…éšœæŽ’é™¤)

## æ¦‚è¿°

æœ¬åŠŸèƒ½ä¸ºAzureå®žæ—¶è¯­éŸ³ç¿»è¯‘åº”ç”¨æ·»åŠ äº†è¯­éŸ³åˆ†æ®µç­–ç•¥é€‰æ‹©åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸¤ç§åˆ†æ®µç­–ç•¥ä¹‹é—´åˆ‡æ¢ï¼š

1. **è¯­ä¹‰åˆ†æ®µï¼ˆSemanticï¼‰** - é»˜è®¤æŽ¨è â­
2. **é™éŸ³åˆ†æ®µï¼ˆSilenceï¼‰** - ä¼ ç»Ÿæ–¹å¼

> ðŸ’¡ **å›žåˆ°ä¸»æ–‡æ¡£**: [README.md](../README.md)

## åŠŸèƒ½ç‰¹æ€§

### 1. è¯­ä¹‰åˆ†æ®µï¼ˆSemantic Segmentationï¼‰
- **å·¥ä½œåŽŸç†**ï¼šä½¿ç”¨AIç®—æ³•åŸºäºŽè¯­ä¹‰å’Œæ ‡ç‚¹ç¬¦å·æ£€æµ‹å¥å­ç»“æŸ
- **ä¼˜åŠ¿**ï¼š
  - æä¾›æ›´è‡ªç„¶çš„è¯­ä¹‰å•å…ƒ
  - é¿å…å› çŸ­æš‚åœé¡¿è€Œé”™è¯¯åˆ†æ®µ
  - é˜²æ­¢é•¿æ—¶é—´æ— åˆ†æ®µçš„"æ–‡å­—å¢™"çŽ°è±¡
  - æé«˜40-60%çš„åˆ†æ®µå‡†ç¡®çŽ‡
- **é€‚ç”¨åœºæ™¯**ï¼šè¿žç»­å¯¹è¯ã€ä¼šè®®è®°å½•ã€å®žæ—¶ç¿»è¯‘
- **é…ç½®å‚æ•°**ï¼š
  - `Speech_SegmentationStrategy=Semantic`
  - `Speech_SegmentationMaximumTimeMs=15000` (15ç§’å®‰å…¨è¶…æ—¶)

> ðŸ“– **ç›¸å…³é…ç½®**: è¯¦è§[é…ç½®è¯´æ˜Ž](#é…ç½®è¯´æ˜Ž)ç« èŠ‚

### 2. é™éŸ³åˆ†æ®µï¼ˆSilence Segmentationï¼‰
- **å·¥ä½œåŽŸç†**ï¼šåŸºäºŽé™éŸ³é—´éš”æ£€æµ‹è¿›è¡Œåˆ†æ®µ
- **ä¼˜åŠ¿**ï¼š
  - ä¼ ç»Ÿå¯é çš„åˆ†æ®µæ–¹å¼
  - é€‚åˆå›ºå®šèŠ‚å¥çš„è¯­éŸ³è¾“å…¥
  - å“åº”åŠæ—¶
- **é€‚ç”¨åœºæ™¯**ï¼šæœ—è¯»ã€æ’­æŠ¥ã€å›ºå®šæ ¼å¼è¯­éŸ³
- **é…ç½®å‚æ•°**ï¼š
  - `Speech_SegmentationSilenceTimeoutMs=500` (500æ¯«ç§’é™éŸ³è¶…æ—¶)
  - `SpeechServiceConnection_InitialSilenceTimeoutMs=5000` (5ç§’åˆå§‹é™éŸ³è¶…æ—¶)

> ðŸ”§ **è°ƒä¼˜å»ºè®®**: è¯¦è§[ä½¿ç”¨å»ºè®®](#ä½¿ç”¨å»ºè®®)ç« èŠ‚

## é…ç½®è¯´æ˜Ž

### çŽ¯å¢ƒå˜é‡é…ç½®ï¼ˆserver/.envï¼‰

```bash
# é»˜è®¤åˆ†æ®µç­–ç•¥
DEFAULT_SEGMENTATION_STRATEGY=Semantic

# è¯­ä¹‰åˆ†æ®µé…ç½®
SEMANTIC_SEGMENTATION_PROPERTIES=Speech_SegmentationStrategy=Semantic;Speech_SegmentationMaximumTimeMs=15000

# é™éŸ³åˆ†æ®µé…ç½®
SILENCE_SEGMENTATION_PROPERTIES=Speech_SegmentationSilenceTimeoutMs=500;SpeechServiceConnection_InitialSilenceTimeoutMs=5000
```

> ðŸ’¡ **é…ç½®æ¨¡æ¿**: å®Œæ•´çš„çŽ¯å¢ƒå˜é‡é…ç½®è¯·å‚è€ƒ [`env.sample`](../env.sample)

### UIç•Œé¢æŽ§åˆ¶

- **ä½ç½®**ï¼šé…ç½®é¢æ¿ â†’ è¾“å‡ºè®¾ç½® â†’ è¯­éŸ³åˆ†æ®µç­–ç•¥
- **é€‰é¡¹**ï¼š
  - **è¯­ä¹‰åˆ†æ®µ** - åŸºäºŽæ ‡ç‚¹ç¬¦å·å’Œè¯­ä¹‰ï¼ˆæŽ¨èï¼‰â­
  - **é™éŸ³åˆ†æ®µ** - åŸºäºŽé™éŸ³é—´éš”ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
- **å®žæ—¶è¯´æ˜Ž**ï¼šæ ¹æ®é€‰æ‹©æ˜¾ç¤ºç›¸åº”çš„ç­–ç•¥è¯´æ˜Ž

> ðŸ–¥ï¸ **UIæˆªå›¾**: æŸ¥çœ‹ä¸»æ–‡æ¡£äº†è§£å®Œæ•´çš„ç•Œé¢è¯´æ˜Ž - [README.md](../README.md)

## æŠ€æœ¯å®žçŽ°

### 1. ç±»åž‹å®šä¹‰æ›´æ–°
```typescript
export type SegmentationStrategy = 'Semantic' | 'Silence';

interface SessionConfig {
  // ... å…¶ä»–å±žæ€§
  segmentationStrategy: SegmentationStrategy;
}
```

### 2. æœåŠ¡å™¨ç«¯å®žçŽ°
- æ–°å¢ž `parseSegmentationProperties()` å‡½æ•°
- åŠ¨æ€åº”ç”¨åˆ†æ®µç­–ç•¥é…ç½®åˆ° `TranslationRecognizer`
- æ ¹æ®ç”¨æˆ·é€‰æ‹©åŠ è½½å¯¹åº”çš„PropertyIdè®¾ç½®

### 3. å‰ç«¯UIå®žçŽ°
- æ–°å¢žåˆ†æ®µç­–ç•¥é€‰æ‹©å™¨
- æœ¬åœ°å­˜å‚¨ç­–ç•¥é€‰æ‹©
- åŠ¨æ€æ˜¾ç¤ºç­–ç•¥è¯´æ˜Žæ–‡æœ¬

## ä½¿ç”¨å»ºè®®

### æŽ¨èåœºæ™¯

**è¯­ä¹‰åˆ†æ®µé€‚åˆï¼š** â­
- æ—¥å¸¸å¯¹è¯ç¿»è¯‘
- ä¼šè®®å®žæ—¶è®°å½•
- è¿žç»­è¯­éŸ³è¾“å…¥
- å¤šè¯­è¨€æ··åˆåœºæ™¯

**é™éŸ³åˆ†æ®µé€‚åˆï¼š**
- æœ—è¯»æ–‡æ¡£
- æ’­æŠ¥å¼è¾“å…¥
- å›ºå®šæ ¼å¼è¯­éŸ³
- å¯¹å®žæ—¶æ€§è¦æ±‚æžé«˜çš„åœºæ™¯

### å‚æ•°è°ƒä¼˜

**è¯­ä¹‰åˆ†æ®µè°ƒä¼˜ï¼š**
- é•¿å¥åœºæ™¯ï¼š`Speech_SegmentationMaximumTimeMs=20000-30000`
- çŸ­å¥åœºæ™¯ï¼š`Speech_SegmentationMaximumTimeMs=10000-12000`

**é™éŸ³åˆ†æ®µè°ƒä¼˜ï¼š**
- å¿«èŠ‚å¥è¯­éŸ³ï¼š`Speech_SegmentationSilenceTimeoutMs=300`
- æ…¢èŠ‚å¥è¯­éŸ³ï¼š`Speech_SegmentationSilenceTimeoutMs=1000-2000`

> ðŸ” **æ›´å¤šä¼˜åŒ–**: æ€§èƒ½è°ƒä¼˜è¯¦æƒ…è¯·æŸ¥çœ‹ [`optimize.md`](./optimize.md)

## å…¼å®¹æ€§è¯´æ˜Ž

- **SDKç‰ˆæœ¬**ï¼šè¯­ä¹‰åˆ†æ®µéœ€è¦ Azure Speech SDK 1.41+ 
- **è¯­è¨€æ”¯æŒ**ï¼šè¯­ä¹‰åˆ†æ®µæ”¯æŒä¸­æ–‡ã€è‹±è¯­ã€æ—¥è¯­ç­‰ä¸»è¦è¯­è¨€
- **åŠŸèƒ½é™åˆ¶**ï¼šè¯­ä¹‰åˆ†æ®µæš‚ä¸æ”¯æŒç½®ä¿¡åº¦åˆ†æ•°å’ŒNBeståˆ—è¡¨

## æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **è¯­ä¹‰åˆ†æ®µä¸ç”Ÿæ•ˆ**
   - æ£€æŸ¥SDKç‰ˆæœ¬æ˜¯å¦â‰¥1.41
   - ç¡®è®¤ç›®æ ‡è¯­è¨€æ”¯æŒè¯­ä¹‰åˆ†æ®µ
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ä¸­çš„PropertyIdè®¾ç½®

2. **åˆ†æ®µè¿‡äºŽé¢‘ç¹**
   - é™éŸ³åˆ†æ®µï¼šå¢žåŠ  `Speech_SegmentationSilenceTimeoutMs` å€¼
   - è¯­ä¹‰åˆ†æ®µï¼šæ£€æŸ¥æ˜¯å¦æœ‰è¿‡å¤šæ ‡ç‚¹ç¬¦å·

3. **åˆ†æ®µè¿‡äºŽç¨€å°‘**
   - é™éŸ³åˆ†æ®µï¼šå‡å°‘ `Speech_SegmentationSilenceTimeoutMs` å€¼
   - è¯­ä¹‰åˆ†æ®µï¼šå¯ç”¨ `Speech_SegmentationMaximumTimeMs` å®‰å…¨è¶…æ—¶

### è°ƒè¯•æ–¹æ³•

æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—èŽ·å–è¯¦ç»†çš„é…ç½®ä¿¡æ¯ï¼š
```bash
npm start
# è§‚å¯ŸæŽ§åˆ¶å°è¾“å‡ºï¼š
# - "è§£æžçš„Semanticåˆ†æ®µç­–ç•¥å±žæ€§"
# - "è®¾ç½®åˆ†æ®µç­–ç•¥å±žæ€§: xxx = xxx"
```

> ðŸ”§ **å¿«é€Ÿå¯åŠ¨**: ä½¿ç”¨é¡¹ç›®æä¾›çš„å¯åŠ¨è„šæœ¬ `./start.sh dev` æ¥å¿«é€Ÿå¯åŠ¨å¼€å‘çŽ¯å¢ƒ

## ç‰ˆæœ¬æ›´æ–°è®°å½•

- **v1.0.0**: åˆå§‹å®žçŽ°ï¼Œæ”¯æŒè¯­ä¹‰åˆ†æ®µå’Œé™éŸ³åˆ†æ®µåˆ‡æ¢
- æ–°å¢žUIé€‰æ‹©å™¨å’ŒçŽ¯å¢ƒå˜é‡é…ç½®
- å®Œæ•´çš„ç±»åž‹å®šä¹‰å’Œé”™è¯¯å¤„ç†

---

> **è¿”å›žä¸»æ–‡æ¡£**: [README.md](../README.md) | **å¿«é€Ÿå¼€å§‹**: [QUICK-START.md](./QUICK-START.md) | **æ€§èƒ½ä¼˜åŒ–**: [optimize.md](./optimize.md)